# Отчет по лабораторной работе N 21 по курсу
# "Фундаментальная информатика"

Студент группы: M8О-115Б, Шаталов Максим Алексеевич\
Контакты: rcmaksim@mail.ru \
Работа выполнена: 01.03.2024\
Преподаватель: Чеснов Илья Игоревич

## 1. Тема

Программирование на интерпретируемых командных языках

## 2. Цель работы

Составить программу выполнения заданных действий над файлами на одном из интерпретируемых командных языков

## 3. Задание

Генерация заданного числа копий указаного файла. Имена копий генерировать добавлением к имени исходного файла следущей по порядку буквы или цифры, начиная с заданой буквы или цифры.

## 4. Оборудование

Процессор: Intel Core i5-8265U @ 8x 3.9GH\
ОП: 7851 Мб\
НМД: 1024 Гб\
Монитор: 1920x1080

## 5. Программное обеспечение

Операционная система семейства: **linux (ubuntu)**, версия **18.10 cosmic**\
Интерпретатор команд: **bash**, версия **4.4.19**.\
Система программирования: **--**, версия **--**\
Редактор текстов: **emacs**, версия **25.2.2**\
Утилиты операционной системы: **--**\
Прикладные системы и программы: **--**\
Местонахождение и имена файлов программ и данных на домашнем компьютере: **--**

## 6. Идея, метод, алгоритм решения задачи

Рассмотрим возможные сценарии вызова программы:
1. режим диалога
задавая волпросы пользователю, получим параметры для работы скрипта. Обработка ошибочных параметров, если они встретились.
2. ввод ? для получения информации
вывод спецификации скрипта и завершение его работы
3. стандартный вызов с параметрами
 - обработка пути необходимого файла и колличества копий
 - обработка всех ключей которые переданы и изменение значений соответствующих флагов
 - в соответствии с задаными параметрами производим копирование файлов по указаным данным с добавлением указаного окончания.
 - завершаем работу скрипта


## 7. Сценарий выполнения работы

План:
Для того, чтобы можно было удобно выводить спецификацию скрипта создадим специальную функцию(_info) которая будет выводить командами echo всю необходимую информацию о скрипте.
Обработаем ситуацию когда при вызове ни указан ни один из параметров, в таком случае вызовем ошибку и завершим работу скрипта.
Обработаем вызов параметра ? и зададим начальные значения всем переменным= флажкам и переменным чьи значения "по умолчанию известны", такие как стандартное имя окончания и значение флага.
Далее опишем режим диалога. Спрашиваем вопрос у пользователя и записываем в соответствующие переменные его ответ. В случае когда пользователь ввел что-то некорректное производим вывод ошибки и завершение работы скрипта.
Если пользователь не выбрал режим диалога, то он ввел необходимые параметры в командной строке. Значит в параметре 1 и 2 будут лежать путь и необходимое количество копий соотвественно.
Итак мы имеем введенные путь и количество копий, осталось ввести необходимые флаги.
Делаем это с помощью цикла while и сдвигов флагов командой shift, в этом же цикле обрабатываем ошибку при вводе неправильного ключа. При вводе соотвествующего ключа необходимо поменять значение соответствующей переменной и сделать сдвиг всех ключей на 1 влево.
Для того, чтобы мы могли понимать какую букву или слово нам нужно приписывать к концу копируемых файлов необходимо создать переменную флажок. В зависимости от того, число, прописная буква или заглавная задаем переменной соответствующее значение(-1 - ошибка, 0 - число, 1 - mini буква, 2 большая буква)
Все подготовительные процессы сделаны и можно приступать к процессу копирования
Будем использовать функцию cp в которюую нужно передать путь к файлу который будем копировать и путь с названием нового файла который и будет являться копией.
Запустим цикл for по числу копий и в зависимости от значение переменной флажка будем прибалять к названию исходного файла необходимое окончание.
если суффикс = копия, значит после неё будет идти просто переменная i
если суффикс = цифра, значит к ней будет прибавляться значение переменной i
если суффикс = прописная/заглавная буква, значит к ней будет прибавляться буква со следущем кодом ASCII. Здесь важно сделать проверку на выход буквы за границу z/Z. В этом случае не копируем оставшиеся файлы.
Все новые имена получаем объединением строк.
После успешного копирования обрабатываем флаг r при котором необходимо удалить исходный файл командой rm.
## 8. Распечатка протокола

```
**Тест 1**
Входные данные (запуск и передаваемые аргументы)

max@max-virtualbox:~/Desktop$ bash Laba_13 /home/max/Desktop/Laba_bash/test 4 -n a

Вывод программы
Создались следущие файлы:
/home/max/Desktop/Laba_bash/test_a
/home/max/Desktop/Laba_bash/test_b
/home/max/Desktop/Laba_bash/test_c
/home/max/Desktop/Laba_bash/test_d

**Тест 2**
Входные данные (запуск и передаваемые аргументы)

max@max-virtualbox:~/Desktop$ bash Laba_13 /home/max/Desktop/Laba_bash/test 4 -d /home/max/Desktop/ -n 12

Вывод программы
Создались следущие файлы:
/home/max/Desktop/test_12
/home/max/Desktop/test_13
/home/max/Desktop/test_14
/home/max/Desktop/test_15
```

## 9. Дневник отладки

| № | Лаб. или дом. | Дата       | Время     | Событие                  | Действие по исправлению | Примечание  |
|---|---------------|------------|-----------|--------------------------|-------------------------|-------------|
|1  | Дом           | 29.02.2023 | 17:50     | Забыл знак then в if    | Поставил then     | Невнимательность |
|2  | Дом           | 03.03.2023 | 04:50     | написал print вместо echo | поменял print на echo | невнимальность   |

## 10. Замечания автора по существу работы

Было нереально интересно выполнять данную лабораторную работу, разобрался с прекрасным  интерпритируемым языком bash. Научился копировать файлы и писать циклы

## 11. Выводы

Я разобрался с языком bash, узнал что на нём можно программировать, почти как на C. Удалось понять, что bash уникален и в некоторых моментах даже лучше Python.

